<!--
Copyright © 2017 Seção Técnica de Informática - STI / ICMC <sti@icmc.usp.br>

Este arquivo é parte do programa "Vagas"

Vagas é um software livre; você pode redistribuí-lo e/ou 
modificá-lo dentro dos termos da Licença Pública Geral GNU como 
publicada pela Fundação do Software Livre (FSF); na versão 3 da 
Licença, ou (a seu critério) qualquer versão posterior.

Este programa é distribuído na esperança de que possa ser  útil, 
mas SEM NENHUMA GARANTIA; sem uma garantia implícita de ADEQUAÇÃO
a qualquer MERCADO ou APLICAÇÃO EM PARTICULAR. Veja a
Licença Pública Geral GNU para maiores detalhes.

Você deve ter recebido uma cópia da Licença Pública Geral GNU junto
com este programa, Se não, veja <http://www.gnu.org/licenses/>.
-->

<script>


    //necessÃ¡rio porque os botÃµes sÃ£o criados sob demanda durante o carregamento ajax.
    function rebindEvents() {
        //console.log('Rebinding...');

        $(".new").on('click', function () {
            $("#addModal .modal-body").html('<center><img src="{URL}/view/img/Carregando.gif" /></center>');
            $("#addModal").modal("show");
            $.post("{PHP_SELF}", {new : $(this).val()}).done(function (data) {
                $("#addModal").html(data);
            });
        });
    }

    $(document).ready(function () {

        $(".table tr td button").tooltip();

        $('.table').dataTable({
            "columns": [
                {"bSortable": false},
                null,
                {"className": "text-center"}
            ],
            "order": [[1, "asc"]], //definindo a coluna 2 = candidato como ordem inicial
            "oLanguage": {
                "sUrl": "{URL}/view/language/pt_BR.txt"
            },

            "bSortClasses": true,
            "processing": true,
            "serverSide": true,
            "bDestroy": true,
            "ajax": "{URL}/modelo/list/list.php",
            //"dataSrc": "",
            //dom: "<'row'<'col-sm-3'l><'col-sm-3'f><'col-sm-6'p>>" +
            //        "<'row'<'col-sm-12'tr>>" +
            //        "<'row'<'col-sm-5'i><'col-sm-7'p>>",
            "fnDrawCallback": function (oSettings) {
                //console.log( 'Reloging bind events!' );
                rebindEvents();//necessÃ¡rio pois os botÃµes sÃ£o criados dinimicamente pelo ajax.
            }
        });

        $('.dataTables_paginate').addClass("pagination");
    });
</script>

<section class="content-header">
    <h1>
        {TITULO}
        <small>{SISTEMA}</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="{HOME}"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">{TITULO}</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header with-border pull-right">
                    <button class="btn btn-primary btn-sm" value="-1">Novo <i class="fa fa-plus"></i></button>
                </div>
                <div class="box-body">
                    <br />
                    <table class="table table-hover table-bordered table-condensed">
                        <thead>
                            <tr>
                                <th class=" text-center">
                                    C&oacute;digo
                                </th>
                                <th class=" text-center">
                                    Modelo
                                </th>
                                <th class=" text-center">
                                    A&ccedil;&otilde;es
                                </th>
                            </tr>
                        </thead>
                        <!--<tfoot> 
                            <tr>
                                <th>codigo</th>
                                <th>modelo</th>
                                <th>botao</th>
                            </tr>
                        </tfoot>-->
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>


